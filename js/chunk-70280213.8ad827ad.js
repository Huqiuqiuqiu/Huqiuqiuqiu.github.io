(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70280213"],{"1f00":function(t,e,o){},"7cd9":function(t,e,o){"use strict";o("1f00")},d879:function(t,e,o){"use strict";o.r(e);var r,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"create"},[o("Panel",{scopedSlots:t._u([{key:"header",fn:function(){return[o("router-link",{attrs:{to:"/"}},[t._v("主页")]),o("span",[t._v("/")]),"/topic/create"===t.$route.path?o("span",[t._v("发布话题")]):o("span",[t._v("编辑话题")])]},proxy:!0},{key:"content",fn:function(){return[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{label:"板块：","label-width":"80px",prop:"tab"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.tab,callback:function(e){t.$set(t.form,"tab",e)},expression:"form.tab"}},[o("el-option",{attrs:{label:"分享",value:"share"}}),o("el-option",{attrs:{label:"问答",value:"ask"}}),o("el-option",{attrs:{label:"招聘",value:"job"}}),o("el-option",{attrs:{label:"客户端测试",value:"dev"}})],1)],1),o("el-form-item",{attrs:{label:"标题：","label-width":"80px",prop:"title"}},[o("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),o("el-form-item",[o("mavon-editor",{attrs:{defaultOpen:"edit",subfield:!1,boxShadow:!1},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1),o("el-form-item",["/topic/create"===t.$route.path?o("el-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("立即创建")]):o("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)]},proxy:!0}])}),o("Aside",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Markdown 语法参考")]},proxy:!0},{key:"content",fn:function(){return[t._v(" ### 单行的标题 **粗体** `console.log('行内代码')` ```js\\n code \\n``` 标记代码块 [内容](链接) ![文字说明](图片链接) ")]},proxy:!0}])})],1)},a=[],s=o("ade3"),c=o("1da1"),l=o("5530"),i=(o("96cf"),o("2f62")),u=o("f34a"),f=o("814a"),p=(r={components:{Panel:u["a"],Aside:f["a"]},computed:Object(l["a"])({},Object(i["d"])({newPostId:function(t){return t.post.newPostId}})),watch:{newPostId:{handler:function(t){console.log(t),this.$router.push("/post/".concat(this.newPostId))}}},data:function(){return{form:{title:"",tab:"",content:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:6,message:"标题字数六字以上",trigger:"blur"}],tab:[{required:!0,message:"请选择板块",trigger:"change"}]}}}},Object(s["a"])(r,"computed",Object(l["a"])({id:function(){return this.$route.params.id}},Object(i["d"])({post:function(t){return t.post.post}}))),Object(s["a"])(r,"created",(function(){if(this.id){this.getPost(this.id),console.log(this.post);var t=this.post,e=t.title,o=t.tab,r=t.content;this.form={title:e,tab:o,content:r}}})),Object(s["a"])(r,"methods",Object(l["a"])(Object(l["a"])({},Object(i["b"])(["createPost","getPost","updatePost"])),{},{create:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createPost(t.form),console.log(t.form),console.log(t.newPostId)}))},save:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updatePost(Object(l["a"])({topic_id:t.id},t.form));case 2:t.$router.push("/post/".concat(t.id));case 3:case"end":return e.stop()}}),e)})))()}})),r),d=p,m=(o("7cd9"),o("2877")),b=Object(m["a"])(d,n,a,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-70280213.8ad827ad.js.map